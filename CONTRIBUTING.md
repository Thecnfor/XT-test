# 贡献指南

欢迎参与 Xrak 项目的开发！本指南将帮助您了解如何为项目做出贡献。

## 项目概述

Xrak 是一个基于 Next.js 和 Flask 的实时通信网站，支持用户间的即时消息传递。

## 开发环境设置

### 前提条件
- Node.js 18+（推荐使用 nvm 管理 Node.js 版本）
- Python 3.8+（推荐使用虚拟环境）
- Git

### 步骤
1. **克隆仓库**
```bash
 git clone https://github.com/Thecnfor/Xrak.git
 cd xrak
```

2. **设置前端环境**
```bash
 cd frontend
 npm install
```

3. **设置后端环境**
```bash
 cd backend
 python -m venv venv

 # Windows 激活虚拟环境
 venv\Scripts\activate
 # macOS/Linux 激活虚拟环境
 source venv/bin/activate
 
 # 安装依赖
 pip install -r requirements.txt
```

## 代码风格和规范

### 前端
- 使用 TypeScript 编写代码
- 遵循 ESLint 规则（运行 `npm run lint` 检查）
- 使用 Prettier 格式化代码
- 组件命名采用 PascalCase
- 函数和变量命名采用 camelCase
- 注释应清晰明了，解释代码意图而非实现细节

### 后端
- 使用 Python 3.8+ 语法
- 遵循 PEP 8 编码规范
- 函数和变量命名采用 snake_case
- 类命名采用 PascalCase
- 添加适当的类型注解
- 注释应清晰明了，解释代码意图而非实现细节

## 提交代码流程

1. **创建分支**
   - 从 `main` 分支创建新分支
   - 分支命名格式：`feature/功能名称` 或 `bugfix/问题描述`

2. **编写代码**
   - 确保代码符合项目风格指南
   - 添加或更新相关测试
   - 确保所有测试通过
   - 运行 `npm run lint` 确保代码没有 lint 错误

3. **提交更改**
   - 提交信息应清晰描述更改内容
   - 使用语义化版本管理规范
   - 提交信息格式：`<类型>: <描述>`，例如 `feat: 添加用户认证功能`

4. **创建拉取请求**
   - 推送到远程仓库
   - 在 GitHub 上创建拉取请求
   - 描述更改内容、解决的问题以及测试方法
   - 邀请相关人员进行代码审查

## 分支策略

- `main`: 主分支，包含稳定版本的代码
- `develop`: 开发分支，包含下一个版本的功能
- `feature/*`: 功能分支，用于开发新功能
- `bugfix/*`: 修复分支，用于修复问题
- `release/*`: 发布分支，用于准备发布新版本
- `hotfix/*`: 热修复分支，用于修复生产环境中的紧急问题

## 问题报告和功能请求

1. **问题报告**
   - 使用 GitHub Issues 报告问题
   - 提供详细的问题描述、复现步骤和预期行为
   - 包含相关截图或日志（如果有）

2. **功能请求**
   - 使用 GitHub Issues 提交功能请求
   - 描述功能的用途和预期行为
   - 解释为什么这个功能对项目有益

## 代码审查流程

1. 提交拉取请求后，至少需要 1 名团队成员进行审查
2. 审查人员应检查代码是否符合项目风格指南、是否有潜在问题
3. 审查人员可以提出问题、建议或修改请求
4. 提交者应回应所有评论并进行必要的修改
5. 当所有审查人员批准后，拉取请求可以合并

## 其他重要信息

- 不要提交敏感信息（如密钥、密码等）
- 保持代码库整洁，删除不必要的文件
- 尊重其他团队成员，保持良好的沟通
- 如有疑问，请联系项目负责人

感谢您的贡献！